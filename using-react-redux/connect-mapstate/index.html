<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-130598673-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="React Redux" href="/react-redux/opensearch.xml">
<script src="/scripts/sidebarScroll.js"></script>
<script src="/scripts/codeblock.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js" async></script><title data-react-helmet="true">Connect: Extraindo dados com mapStateToProps | React Redux</title><meta data-react-helmet="true" name="docsearch:version" content="7.2,latest"><meta data-react-helmet="true" property="og:image" content="https://fernandobelotto.github.io/react-redux/img/redux-logo-landscape.png"><meta data-react-helmet="true" property="twitter:image" content="https://fernandobelotto.github.io/react-redux/img/redux-logo-landscape.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for React Redux"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="Connect: Extraindo dados com mapStateToProps | React Redux"><meta data-react-helmet="true" name="description" content="Connect: Extraindo dados com mapStateToProps"><meta data-react-helmet="true" property="og:description" content="Connect: Extraindo dados com mapStateToProps"><meta data-react-helmet="true" property="og:url" content="https://fernandobelotto.github.io/react-redux/using-react-redux/connect-mapstate"><link data-react-helmet="true" rel="shortcut icon" href="/react-redux/img/favicon/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://fernandobelotto.github.io/react-redux/using-react-redux/connect-mapstate"><link rel="stylesheet" href="/react-redux/styles.d70abe4e.css">
<link rel="preload" href="/react-redux/styles.88518277.js" as="script">
<link rel="preload" href="/react-redux/runtime~main.f69693ff.js" as="script">
<link rel="preload" href="/react-redux/main.39668d8c.js" as="script">
<link rel="preload" href="/react-redux/1.71946d49.js" as="script">
<link rel="preload" href="/react-redux/2.f8406151.js" as="script">
<link rel="preload" href="/react-redux/89.86b79477.js" as="script">
<link rel="preload" href="/react-redux/86.feea6d48.js" as="script">
<link rel="preload" href="/react-redux/e739592e.b8f99605.js" as="script">
<link rel="preload" href="/react-redux/17896441.6bb94d98.js" as="script">
<link rel="preload" href="/react-redux/38154516.f47bcb99.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/react-redux/"><img class="navbar__logo" src="/react-redux/img/redux.svg" alt="Redux Logo"><strong class="navbar__title">React Redux</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/react-redux/introduction/quick-start">7.2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/react-redux/next/using-react-redux/connect-mapstate">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/react-redux/using-react-redux/connect-mapstate">7.2</a></li><li><a class="dropdown__link" href="/react-redux/7.1/using-react-redux/connect-mapstate">7.1</a></li><li><a class="dropdown__link" href="/react-redux/7.0/using-react-redux/connect-mapstate">7.0</a></li><li><a class="dropdown__link" href="/react-redux/6.x/using-react-redux/connect-mapstate">6.x</a></li><li><a class="dropdown__link" href="/react-redux/5.x/using-react-redux/connect-mapstate">5.x</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/react-redux/introduction/quick-start">Come√ßo r√°pido</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/react-redux/using-react-redux/connect-mapstate">Usando React Redux</a><a class="navbar__item navbar__link" href="/react-redux/api/connect">API</a><a href="https://www.github.com/reduxjs/react-redux" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github">GitHub</a><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" href="/react-redux/introduction/quick-start#help-and-discussion">Preciso de ajuda?</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">‚åò</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/react-redux/"><img class="navbar__logo" src="/react-redux/img/redux.svg" alt="Redux Logo"><strong class="navbar__title">React Redux</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/react-redux/next/using-react-redux/connect-mapstate">Next</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/react-redux/using-react-redux/connect-mapstate">7.2</a></li><li class="menu__list-item"><a class="menu__link" href="/react-redux/7.1/using-react-redux/connect-mapstate">7.1</a></li><li class="menu__list-item"><a class="menu__link" href="/react-redux/7.0/using-react-redux/connect-mapstate">7.0</a></li><li class="menu__list-item"><a class="menu__link" href="/react-redux/6.x/using-react-redux/connect-mapstate">6.x</a></li><li class="menu__list-item"><a class="menu__link" href="/react-redux/5.x/using-react-redux/connect-mapstate">5.x</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/react-redux/introduction/quick-start">Come√ßo r√°pido</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/react-redux/using-react-redux/connect-mapstate">Usando React Redux</a></li><li class="menu__list-item"><a class="menu__link" href="/react-redux/api/connect">API</a></li><li class="menu__list-item"><a href="https://www.github.com/reduxjs/react-redux" target="_blank" rel="noopener noreferrer" class="menu__link github">GitHub</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link" href="/react-redux/introduction/quick-start#help-and-discussion">Preciso de ajuda?</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introdu√ß√£o</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-redux/introduction/quick-start">Come√ßo r√°pido</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-redux/introduction/basic-tutorial">Tutorial B√°sico</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-redux/introduction/why-use-react-redux">Por que usar React Redux?</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Usando React Redux</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/react-redux/using-react-redux/connect-mapstate">Connect: Extraindo dados com mapStateToProps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-redux/using-react-redux/connect-mapdispatch">Connect: Despachando Actions com mapDispatchToProps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-redux/using-react-redux/accessing-store">Acessando a store</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-redux/using-react-redux/static-typing">Tipagem Est√°tica</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Refer√™ncia da API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-redux/api/connect">connect()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-redux/api/provider">Provider</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-redux/api/connect-advanced">connectAdvanced()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-redux/api/batch">batch()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-redux/api/hooks">Hooks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guias</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-redux/troubleshooting">Solu√ß√£o de problemas</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: 7.2</span></div><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="connect-extraindo-dados-com-mapstatetoprops"></a>Connect: Extraindo dados com <code>mapStateToProps</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#connect-extraindo-dados-com-mapstatetoprops" title="Direct link to heading">#</a></h1><p>Como o primeiro argumento passado para <code>connect</code>,<code> mapStateToProps</code> √© usado para selecionar a parte dos dados do armazenamento que o componente conectado precisa. √â frequentemente referido apenas como <code>mapState</code> para abrevia√ß√£o.</p><ul><li>√â chamado sempre que o estado da store muda.</li><li>Recebe todo o estado da store e deve retornar um objeto de dados de que esse componente precisa.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="definindo-mapstatetoprops"></a>Definindo <code>mapStateToProps</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#definindo-mapstatetoprops" title="Direct link to heading">#</a></h2><p><code>mapStateToProps</code> deve ser definido como uma fun√ß√£o:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> ownProps</span><span class="token parameter operator" style="color:#F8F8F2">?</span><span class="token punctuation" style="color:#F8F8F2">)</span></div></div></div></div></div><p>Deve receber um primeiro argumento chamado <code>state</code>, opcionalmente um segundo argumento chamado <code>ownProps</code>, e retornar um objeto simples contendo os dados que o componente conectado precisa.</p><p>Esta fun√ß√£o deve ser passada como o primeiro argumento para <code>connect</code>, e ser√° chamada toda vez que o estado da Redux store mudar. Se voc√™ n√£o deseja assinar a store, passe <code>null</code> ou <code>undefined</code> para <code>connect</code> no lugar de<code> mapStateToProps</code>.</p><p><strong>N√£o importa se uma fun√ß√£o <code>mapStateToProps</code> √© escrita usando a palavra-chave <code>function</code> (<code>function mapState(state) {}</code>) ou como uma arrow function (<code>const mapState = (state) =&gt; {}</code>)</strong> - ambas as formas funcionar√£o.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="argumentos"></a>Argumentos<a aria-hidden="true" tabindex="-1" class="hash-link" href="#argumentos" title="Direct link to heading">#</a></h3><ol><li><strong><code>state</code></strong></li><li><strong><code>ownProps</code> (opicional)</strong></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="state"></a><code>state</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#state" title="Direct link to heading">#</a></h4><p>O primeiro argumento para uma fun√ß√£o <code>mapStateToProps</code> √© todo o estado da Redux store (o mesmo valor retornado por uma chamada para <code>store.getState()</code>). Por causa disso, o primeiro argumento √© tradicionalmente chamado apenas de <code>estado</code>. (Embora voc√™ possa dar ao argumento o nome que quiser, cham√°-lo de <code>store</code> seria incorreto - √© o &quot;valor do estado&quot;, n√£o a &quot;inst√¢ncia da store&quot;.)</p><p>A fun√ß√£o <code>mapStateToProps</code> deve sempre ser escrita com pelo menos passando <code>state</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">// TodoList.js</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> todos </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> state</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> todoList</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> todos</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">allIds</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword module" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">default</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">connect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token maybe-class-name">TodoList</span><span class="token punctuation" style="color:#F8F8F2">)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ownprops-opicional"></a><code>ownProps</code> (opicional)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ownprops-opicional" title="Direct link to heading">#</a></h4><p>Voc√™ pode definir a fun√ß√£o com um segundo argumento, <code>ownProps</code>,se o seu componente precisa dos dados de seus pr√≥prios props para recuperar dados do armazenamento. Este argumento conter√° todos os props dados ao componente wrapper que foi gerado pela <code>connect</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">// Todo.js</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> ownProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> visibilityFilter </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> state</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> id </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> ownProps</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> todo </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getTodoById</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> id</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">// componente recebe adicionalmente:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> todo</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> visibilityFilter </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// Posteriormente, em seu aplicativo, um componente pai renderiza:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token maybe-class-name">ConnectedTodo</span><span class="token plain"> id</span><span class="token operator" style="color:#F8F8F2">=</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token number" style="color:#AE81FF">123</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">/</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// e seu componente recebe props.id, props.todo e props.visibilityFilter</span></div></div></div></div></div><p>Voc√™ n√£o precisa incluir valores de <code>ownProps</code> no objeto retornado de <code>mapStateToProps</code>. <code>connect</code> ir√° automaticamente mesclar essas fontes de props diferentes em um conjunto final de props.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="retorno"></a>Retorno<a aria-hidden="true" tabindex="-1" class="hash-link" href="#retorno" title="Direct link to heading">#</a></h3><p>Sua fun√ß√£o <code>mapStateToProps</code> deve retornar um objeto simples que cont√©m os dados de que o componente precisa:</p><ul><li>Cada campo no objeto se tornar√° um prop para seu componente atual</li><li>Os valores nos campos ser√£o usados ‚Äã‚Äãpara determinar se seu componente precisa ser renderizado novamente</li></ul><p>Por exemplo:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    a</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token number" style="color:#AE81FF">42</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    todos</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">todos</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    filter</span><span class="token punctuation" style="color:#F8F8F2">:</span><span class="token plain"> state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">visibilityFilter</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// componente ir√° receber: props.a, props.todos, and props.filter</span></div></div></div></div></div><blockquote><p>Nota: Em cen√°rios avan√ßados onde voc√™ precisa de mais controle sobre o desempenho de renderiza√ß√£o, <code>mapStateToProps</code> tamb√©m pode retornar uma fun√ß√£o. Nesse caso, essa fun√ß√£o ser√° usada como o <code>mapStateToProps</code> final para uma inst√¢ncia de componente particular. Isso permite que voc√™ fa√ßa memoiza√ß√£o por inst√¢ncia. Consulte a se√ß√£o <a href="/react-redux/using-react-redux/">Uso avan√ßado</a> da documenta√ß√£o para obter mais detalhes, bem como o <a href="https://github.com/reduxjs/react-redux/pull/279" target="_blank" rel="noopener noreferrer">PR #279</a> e os testes que ele adiciona. A maioria dos aplicativos nunca precisar√° disso.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="diretrizes-de-uso"></a>Diretrizes de uso<a aria-hidden="true" tabindex="-1" class="hash-link" href="#diretrizes-de-uso" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="deixar-mapstatetoprops-remodelar-os-dados-da-store"></a>Deixar <code>mapStateToProps</code> remodelar os dados da store<a aria-hidden="true" tabindex="-1" class="hash-link" href="#deixar-mapstatetoprops-remodelar-os-dados-da-store" title="Direct link to heading">#</a></h3><p>As fun√ß√µes <code>mapStateToProps</code> podem, e devem, fazer muito mais do que apenas <code>return state.someSlice</code>. <strong>Eles t√™m a responsabilidade de &quot;remodelar&quot; os dados da store conforme necess√°rio para esse componente.</strong> Isso pode incluir retornar um valor como um nome de prop espec√≠fico, combinar peda√ßos de dados de diferentes partes da √°rvore de estado e transformar os dados da store de maneiras diferentes.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="use-fun√ß√µes-selectors-para-extrair-e-transformar-dados"></a>Use fun√ß√µes selectors para extrair e transformar dados<a aria-hidden="true" tabindex="-1" class="hash-link" href="#use-fun√ß√µes-selectors-para-extrair-e-transformar-dados" title="Direct link to heading">#</a></h3><p>N√≥s encorajamos o uso de fun√ß√µes &quot;seletoras&quot; para ajudar a encapsular o processo de extra√ß√£o de valores de locais espec√≠ficos na √°rvore de estado. As fun√ß√µes selectors memorizadas tamb√©m desempenham um papel importante na melhoria do desempenho do aplicativo (consulte as seguintes se√ß√µes nesta p√°gina e a p√°gina [Uso avan√ßado: Desempenho]‚Äã‚Äã(./) para obter mais detalhes sobre por que e como usar os selectors.)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="fun√ß√µes-mapstatetoprops-devem-ser-r√°pidas"></a>Fun√ß√µes <code>mapStateToProps</code> devem ser r√°pidas<a aria-hidden="true" tabindex="-1" class="hash-link" href="#fun√ß√µes-mapstatetoprops-devem-ser-r√°pidas" title="Direct link to heading">#</a></h3><p>Sempre que a store muda, todas as fun√ß√µes <code>mapStateToProps</code> de todos os componentes conectados ser√£o executadas. Por causa disso, suas fun√ß√µes <code>mapStateToProps</code> devem ser executadas o mais r√°pido poss√≠vel. Isso tamb√©m significa que uma fun√ß√£o <code>mapStateToProps</code> lenta pode ser um gargalo potencial para seu aplicativo.</p><p>Como parte da ideia de &quot;remodelar dados&quot;, as fun√ß√µes <code>mapStateToProps</code> frequentemente precisam transformar dados de v√°rias maneiras (como filtrar uma matriz, mapear uma matriz de IDs para seus objetos correspondentes ou extrair valores JS simples de objectos do Immutable.js). Essas transforma√ß√µes geralmente podem ser caras, tanto em termos de custo para executar a transforma√ß√£o, quanto se o componente √© renderizado novamente como resultado. Se o desempenho for uma preocupa√ß√£o, certifique-se de que essas transforma√ß√µes sejam executadas apenas se os valores de entrada forem alterados.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="fun√ß√µes-mapstatetoprops-devem-ser-puras-e-s√≠ncronas"></a>Fun√ß√µes <code>mapStateToProps</code> devem ser puras e s√≠ncronas<a aria-hidden="true" tabindex="-1" class="hash-link" href="#fun√ß√µes-mapstatetoprops-devem-ser-puras-e-s√≠ncronas" title="Direct link to heading">#</a></h3><p>Assim como um reducer do Redux, uma fun√ß√£o <code>mapStateToProps</code> deve ser sempre 100% pura e s√≠ncrona. Deve simplesmente receber <code>state</code> (e<code> ownProps</code>) como argumentos e retornar os dados que o componente precisa como props. Ela <em>n√£o</em> deve ser usada para acionar comportamento ass√≠ncrono como chamadas AJAX para obten√ß√£o de dados, e as fun√ß√µes n√£o devem ser declaradas como <code>async</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mapstatetoprops-e-desempenho"></a><code>mapStateToProps</code> e Desempenho<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mapstatetoprops-e-desempenho" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="valores-de-retorno-determinam-se-seu-componente-√©-renderizado-novamente"></a>Valores de retorno determinam se seu componente √© renderizado novamente<a aria-hidden="true" tabindex="-1" class="hash-link" href="#valores-de-retorno-determinam-se-seu-componente-√©-renderizado-novamente" title="Direct link to heading">#</a></h3><p>O React Redux implementa internamente o m√©todo <code>shouldComponentUpdate</code>, de forma que o componente que envolve seja renderizado novamente exatamente quando os dados de que o seu componente precisa foram alterados. Por padr√£o, React Redux decide se o conte√∫do do objeto retornado de <code>mapStateToProps</code> √© diferente usando a compara√ß√£o<code>===</code>(uma verifica√ß√£o de &quot;igualdade superficial&quot;) em cada campo do objeto retornado. Se algum dos campos foi alterado, seu componente ser√° renderizado novamente para que possa receber os valores atualizados como props. Observe que retornar um objeto mutado da mesma refer√™ncia √© um erro comum que pode fazer com que seu componente n√£o seja renderizado novamente quando esperado.</p><p>To summarize the behavior of the component wrapped by <code>connect</code> with <code>mapStateToProps</code> to extract data from the store:
Para resumir o comportamento do componente encapsulado por <code>connect</code> com<code> mapStateToProps</code> para extrair dados do armazenamento:</p><table><thead><tr><th></th><th><code>(state) =&gt; stateProps</code></th><th><code>(state, ownProps) =&gt; stateProps</code></th></tr></thead><tbody><tr><td><code>mapStateToProps</code> executa quando:</td><td><code>state</code> da store muda</td><td><code>state</code> da store muda <br> ou <br>qualquer campo de <code>ownProps</code> √© diferente</td></tr><tr><td>componente √© renderizado novamente quando:</td><td>qualquer campo de <code>stateProps</code> √© diferente</td><td>qualquer campo de <code>stateProps</code> √© diferente <br> ou <br> qualquer campo de <code>ownProps</code> √© diferente</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="retorne-apenas-refer√™ncias-de-novos-objetos-se-necess√°rio"></a>Retorne apenas refer√™ncias de novos objetos se necess√°rio<a aria-hidden="true" tabindex="-1" class="hash-link" href="#retorne-apenas-refer√™ncias-de-novos-objetos-se-necess√°rio" title="Direct link to heading">#</a></h3><p>React Redux faz compara√ß√µes superficiais para ver se os resultados de <code>mapStateToProps</code> mudaram. √â f√°cil retornar acidentalmente um novo objeto ou refer√™ncias de array todas as vezes, o que faria com que seu componente fosse renderizado novamente, mesmo se os dados fossem realmente os mesmos.</p><p>Muitas opera√ß√µes comuns resultam na cria√ß√£o de novas refer√™ncias objetos ou arrays:</p><ul><li>Criando novos arrays com <code>someArray.map ()</code> ou <code>someArray.filter()</code></li><li>Mesclando arrays com <code>array.concat</code></li><li>Sele√ß√£o de parte de uma array com <code>array.slice</code></li><li>Copiar valores com <code>Object.assign</code></li><li>Copiar valores com o operador spread <code>{... oldState, ... newData}</code></li></ul><p>Coloque essas opera√ß√µes em <a href="https://redux.js.org/recipes/computing-derived-data#creating-a-memoized-selector" target="_blank" rel="noopener noreferrer">fun√ß√µes selectors memoizadas</a> para garantir que elas sejam executadas apenas se os valores de entrada forem alterados. Isso tamb√©m garantir√° que se os valores de entrada <em>n√£o mudarem</em>, <code>mapStateToProps</code> ainda retornar√° os mesmos valores de resultado de antes, e <code>connect</code> pode pular a re-renderiza√ß√£o.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="somente-execute-opera√ß√µes-pesadas-quando-os-dados-forem-alterados"></a>Somente execute opera√ß√µes pesadas quando os dados forem alterados<a aria-hidden="true" tabindex="-1" class="hash-link" href="#somente-execute-opera√ß√µes-pesadas-quando-os-dados-forem-alterados" title="Direct link to heading">#</a></h3><p>Transformar dados geralmente pode ser caro (<em>e</em> geralmente resulta na cria√ß√£o de novas refer√™ncias de objeto). Para que sua fun√ß√£o <code>mapStateToProps</code> seja a mais r√°pido poss√≠vel, voc√™ s√≥ deve executar novamente essas transforma√ß√µes complexas quando os dados relevantes forem alterados.</p><p>Existem algumas maneiras de abordar isso:</p><ul><li>Algumas transforma√ß√µes podem ser calculadas em um action creator ou reducer, e os dados transformados podem ser mantidos na store</li><li>As transforma√ß√µes tamb√©m podem ser feitas no m√©todo <code>render ()</code> de um componente</li><li>Se a transforma√ß√£o precisa ser feita em uma fun√ß√£o <code>mapStateToProps</code>, ent√£o recomendamos o uso de <a href="https://redux.js.org/recipes/computing-derived-data#creating-a-memoized-seletor" target="_blank" rel="noopener noreferrer">fun√ß√µes selectors memoizadas</a> para garantir que a transforma√ß√£o seja executada apenas quando os valores de entrada forem alterados.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="preocupa√ß√µes-com-o-desempenho-de-immutablejs"></a>Preocupa√ß√µes com o desempenho de Immutable.js<a aria-hidden="true" tabindex="-1" class="hash-link" href="#preocupa√ß√µes-com-o-desempenho-de-immutablejs" title="Direct link to heading">#</a></h4><p>Lee Byron, autor do Immutable.js, no Twitter <a href="https://twitter.com/leeb/status/746733697093668864?lang=en" target="_blank" rel="noopener noreferrer">aconselha explicitamente a evitar <code>toJS</code> quando o desempenho for uma preocupa√ß√£o</a>:</p><blockquote><p>Perf tip for #immutablejs: avoid .toJS() .toObject() and .toArray() all slow full-copy operations which render structural sharing useless.</p></blockquote><p>Existem v√°rias outras quest√µes de desempenho a serem levadas em considera√ß√£o com Immutable.js - consulte a lista de links no final desta p√°gina para obter mais informa√ß√µes.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="comportamento-e-pegadinhas"></a>Comportamento e pegadinhas<a aria-hidden="true" tabindex="-1" class="hash-link" href="#comportamento-e-pegadinhas" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mapstatetoprops-n√£o-ser√°-executado-se-o-estado-da-store-for-o-mesmo"></a><code>mapStateToProps</code> n√£o ser√° executado se o estado da store for o mesmo<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mapstatetoprops-n√£o-ser√°-executado-se-o-estado-da-store-for-o-mesmo" title="Direct link to heading">#</a></h3><p>O componente que envolve gerado por <code>connect</code> assina a Redux store. Cada vez que uma action √© despachada, ela chama <code>store.getState ()</code> e verifica se <code>lastState === currentState</code>. Se os dois valores de estado s√£o id√™nticos por refer√™ncia, ent√£o ele <em>n√£o</em> reexecutar√° sua fun√ß√£o <code>mapStateToProps</code>, porque assume que o resto do estado de armazenamento tamb√©m n√£o mudou.</p><p>A fun√ß√£o de utilidade <code>combineReducers</code> do Redux tenta otimizar para isso. Se nenhum dos reducers de slice retornou um novo valor, ent√£o <code>combineReducers</code> retornar√° o objeto de estado antigo em vez de um novo. Isso significa que a muta√ß√£o em um reducer pode fazer com que o objeto de estado raiz n√£o seja atualizado e, portanto, a UI n√£o ser√° renderizada novamente.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="o-n√∫mero-de-argumentos-declarados-afeta-o-comportamento"></a>O n√∫mero de argumentos declarados afeta o comportamento<a aria-hidden="true" tabindex="-1" class="hash-link" href="#o-n√∫mero-de-argumentos-declarados-afeta-o-comportamento" title="Direct link to heading">#</a></h3><p>Com apenas <code>(state)</code>, a fun√ß√£o √© executada sempre que o objeto de estado da store raiz for diferente. Com <code>(state, ownProps)</code>, ele roda sempre que o estado da store for diferente e TAMB√âM sempre que as propriedades do wraper forem alteradas.</p><p>Isso significa que <strong>voc√™ n√£o deve adicionar o argumento <code>ownProps</code> a menos que voc√™ realmente precise us√°-lo</strong>, ou sua fun√ß√£o<code> mapStateToProps</code> ser√° executada com mais freq√º√™ncia do que o necess√°rio.</p><p>Existem alguns casos extremos em torno desse comportamento. <strong>O n√∫mero de argumentos obrigat√≥rios determina se <code>mapStateToProps</code> receber√°<code> ownProps</code></strong>.</p><p>Se a defini√ß√£o formal da fun√ß√£o cont√©m um par√¢metro obrigat√≥rio, <code>mapStateToProps</code> <em>n√£o</em> receber√°<code> ownProps</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// state</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token number" style="color:#AE81FF">1</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// undefined</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#E6D874">mapStateToProps</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> ownProps </span><span class="token parameter operator" style="color:#F8F8F2">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#F8F8F2">{</span><span class="token parameter punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// state</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">ownProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// undefined</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></div></div></div></div><p>Ele <em>receber√°</em> <code>ownProps</code> quando a defini√ß√£o formal da fun√ß√£o contiver zero ou dois par√¢metros obrigat√≥rios:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> ownProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// state</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">ownProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// ownProps</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token number" style="color:#AE81FF">0</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// state</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token number" style="color:#AE81FF">1</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// ownProps</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter operator" style="color:#F8F8F2">...</span><span class="token parameter">args</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token number" style="color:#AE81FF">0</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// state</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token number" style="color:#AE81FF">1</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// ownProps</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="links-e-refer√™ncias"></a>Links e refer√™ncias<a aria-hidden="true" tabindex="-1" class="hash-link" href="#links-e-refer√™ncias" title="Direct link to heading">#</a></h2><p><strong>Tutoriais</strong></p><ul><li><a href="https://blog.isquaredsoftware.com/2017/01/practical-redux-part-6-connected-lists-forms-and-performance/" target="_blank" rel="noopener noreferrer">Practical Redux Series, Part 6: Connected Lists, Forms, and Performance</a></li><li><a href="https://blog.isquaredsoftware.com/2017/12/idiomatic-redux-using-reselect-selectors/" target="_blank" rel="noopener noreferrer">Redux Idiom√°tico: Usando Reselect Selectors para encapsulamento e desempenho</a></li></ul><p><strong>Desempenho</strong></p><ul><li><a href="https://twitter.com/leeb/status/746733697093668864" target="_blank" rel="noopener noreferrer">Tweet de Lee Byron sugerindo evitar <code>toJS</code>,<code> toArray</code> e <code>toObject</code> para um melhor desempenho</a></li><li><a href="https://blog.rangle.io/react-and-redux-performance-with-reselect/" target="_blank" rel="noopener noreferrer">Melhorando o desempenho de React e Redux com Reselect</a></li><li><a href="https://github.com/markerikson/react-redux-links/blob/master/react-performance.md#immutable-data" target="_blank" rel="noopener noreferrer">Immutable data performance links</a></li></ul><p><strong>Perguntas&amp;Respostas</strong></p><ul><li><a href="https://redux.js.org/faq/react-redux/#why-is-my-component-re-rendering-too-often" target="_blank" rel="noopener noreferrer">Por que meu componente √© rerenderizado com muita frequ√™ncia?</a></li><li><a href="https://redux.js.org/faq/react-redux/#why-isnt-my-component-re-rendering-or-my-mapstatetoprops-running" target="_blank" rel="noopener noreferrer">Por que meu componente n√£o est√° sendo renderizado novamente ou meu mapStateToProps em execu√ß√£o</a></li><li><a href="https://redux.js.org/faq/react-redux/#how-can-i-speed-up-my-mapstatetoprops" target="_blank" rel="noopener noreferrer">Como posso acelerar meu mapStateToProps?</a></li><li><a href="https://redux.js.org/faq/react-redux/#should-i-only-connect-my-top-component-or-can-i-connect-multiple-components-in-my-tree" target="_blank" rel="noopener noreferrer">Devo conectar apenas meu componente superior ou posso conectar v√°rios componentes em minha √°rvore?</a></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/react-redux/introduction/why-use-react-redux"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Por que usar React Redux?</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/react-redux/using-react-redux/connect-mapdispatch"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connect: Despachando Actions com mapDispatchToProps ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#definindo-mapstatetoprops" class="table-of-contents__link">Definindo <code>mapStateToProps</code></a><ul><li><a href="#argumentos" class="table-of-contents__link">Argumentos</a></li><li><a href="#retorno" class="table-of-contents__link">Retorno</a></li></ul></li><li><a href="#diretrizes-de-uso" class="table-of-contents__link">Diretrizes de uso</a><ul><li><a href="#deixar-mapstatetoprops-remodelar-os-dados-da-store" class="table-of-contents__link">Deixar <code>mapStateToProps</code> remodelar os dados da store</a></li><li><a href="#use-fun√ß√µes-selectors-para-extrair-e-transformar-dados" class="table-of-contents__link">Use fun√ß√µes selectors para extrair e transformar dados</a></li><li><a href="#fun√ß√µes-mapstatetoprops-devem-ser-r√°pidas" class="table-of-contents__link">Fun√ß√µes <code>mapStateToProps</code> devem ser r√°pidas</a></li><li><a href="#fun√ß√µes-mapstatetoprops-devem-ser-puras-e-s√≠ncronas" class="table-of-contents__link">Fun√ß√µes <code>mapStateToProps</code> devem ser puras e s√≠ncronas</a></li></ul></li><li><a href="#mapstatetoprops-e-desempenho" class="table-of-contents__link"><code>mapStateToProps</code> e Desempenho</a><ul><li><a href="#valores-de-retorno-determinam-se-seu-componente-√©-renderizado-novamente" class="table-of-contents__link">Valores de retorno determinam se seu componente √© renderizado novamente</a></li><li><a href="#retorne-apenas-refer√™ncias-de-novos-objetos-se-necess√°rio" class="table-of-contents__link">Retorne apenas refer√™ncias de novos objetos se necess√°rio</a></li><li><a href="#somente-execute-opera√ß√µes-pesadas-quando-os-dados-forem-alterados" class="table-of-contents__link">Somente execute opera√ß√µes pesadas quando os dados forem alterados</a></li></ul></li><li><a href="#comportamento-e-pegadinhas" class="table-of-contents__link">Comportamento e pegadinhas</a><ul><li><a href="#mapstatetoprops-n√£o-ser√°-executado-se-o-estado-da-store-for-o-mesmo" class="table-of-contents__link"><code>mapStateToProps</code> n√£o ser√° executado se o estado da store for o mesmo</a></li><li><a href="#o-n√∫mero-de-argumentos-declarados-afeta-o-comportamento" class="table-of-contents__link">O n√∫mero de argumentos declarados afeta o comportamento</a></li></ul></li><li><a href="#links-e-refer√™ncias" class="table-of-contents__link">Links e refer√™ncias</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/react-redux/introduction/quick-start">Introdu√ß√£o</a></li><li class="footer__item"><a class="footer__link-item" href="/react-redux/using-react-redux/connect-mapstate">Usando React Redux</a></li><li class="footer__item"><a class="footer__link-item" href="/react-redux/api/connect">Refer√™ncia da API</a></li><li class="footer__item"><a class="footer__link-item" href="/react-redux/troubleshooting">Guias</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Comunidade</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/react-redux" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discord.gg/0ZcbPKXt5bZ6au5t" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Mais</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/reduxjs/react-redux" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item">
                <a class="github-button" href="https://github.com/reduxjs/react-redux" data-icon="octicon-star" data-count-href="/reduxjs/react-redux/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">
                  Star
                </a>
              </li><li class="footer__item">
                <a href="https://www.netlify.com">
                  <img src="https://www.netlify.com/img/global/badges/netlify-light.svg" alt="Deploys by Netlify">
                </a>
              </li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Redux Logo" src="/react-redux/img/redux_white.svg"></div><div>Direito autorais (c) 2015-presente Dan Abramov e os autores da documenta√ß√£o Redux.</div></div></div></footer></div>
<script src="/react-redux/styles.88518277.js"></script>
<script src="/react-redux/runtime~main.f69693ff.js"></script>
<script src="/react-redux/main.39668d8c.js"></script>
<script src="/react-redux/1.71946d49.js"></script>
<script src="/react-redux/2.f8406151.js"></script>
<script src="/react-redux/89.86b79477.js"></script>
<script src="/react-redux/86.feea6d48.js"></script>
<script src="/react-redux/e739592e.b8f99605.js"></script>
<script src="/react-redux/17896441.6bb94d98.js"></script>
<script src="/react-redux/38154516.f47bcb99.js"></script>
</body>
</html>