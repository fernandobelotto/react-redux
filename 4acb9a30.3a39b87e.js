(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{147:function(e,n,o){"use strict";o.d(n,"a",(function(){return l})),o.d(n,"b",(function(){return u}));var a=o(0),t=o.n(a);function r(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function c(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?c(Object(o),!0).forEach((function(n){r(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function p(e,n){if(null==e)return{};var o,a,t=function(e,n){if(null==e)return{};var o,a,t={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],n.indexOf(o)>=0||(t[o]=e[o]);return t}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}var d=t.a.createContext({}),s=function(e){var n=t.a.useContext(d),o=n;return e&&(o="function"==typeof e?e(n):i(i({},n),e)),o},l=function(e){var n=s(e.components);return t.a.createElement(d.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return t.a.createElement(t.a.Fragment,{},n)}},b=t.a.forwardRef((function(e,n){var o=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),l=s(o),b=a,u=l["".concat(c,".").concat(b)]||l[b]||m[b]||r;return o?t.a.createElement(u,i(i({ref:n},d),{},{components:o})):t.a.createElement(u,i({ref:n},d))}));function u(e,n){var o=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=o.length,c=new Array(r);c[0]=b;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i.mdxType="string"==typeof e?e:a,c[1]=i;for(var d=2;d<r;d++)c[d]=o[d];return t.a.createElement.apply(null,c)}return t.a.createElement.apply(null,o)}b.displayName="MDXCreateElement"},85:function(e,n,o){"use strict";o.r(n),o.d(n,"frontMatter",(function(){return c})),o.d(n,"metadata",(function(){return i})),o.d(n,"rightToc",(function(){return p})),o.d(n,"default",(function(){return s}));var a=o(2),t=o(6),r=(o(0),o(147)),c={id:"connect-advanced",title:"connectAdvanced",sidebar_label:"connectAdvanced()",hide_title:!0},i={unversionedId:"api/connect-advanced",id:"version-7.2/api/connect-advanced",isDocsHomePage:!1,title:"connectAdvanced",description:"connectAdvanced()",source:"@site/versioned_docs\\version-7.2\\api\\connect-advanced.md",slug:"/api/connect-advanced",permalink:"/react-redux/api/connect-advanced",version:"7.2",sidebar_label:"connectAdvanced()",sidebar:"version-7.2/docs",previous:{title:"Provider",permalink:"/react-redux/api/provider"},next:{title:"batch",permalink:"/react-redux/api/batch"}},p=[{value:"Argumentos",id:"argumentos",children:[]},{value:"Retorno",id:"retorno",children:[{value:"Propriedades est\xe1ticas",id:"propriedades-est\xe1ticas",children:[]},{value:"M\xe9todos est\xe1ticos",id:"m\xe9todos-est\xe1ticos",children:[]}]},{value:"Observa\xe7\xf5es",id:"observa\xe7\xf5es",children:[{value:"Exemplos",id:"exemplos",children:[]},{value:"Injetar <code>todos</code> de um usu\xe1rio espec\xedfico dependendo das propriedades e injetar <code>props.userId</code> na a\xe7\xe3o",id:"injetar-todos-de-um-usu\xe1rio-espec\xedfico-dependendo-das-propriedades-e-injetar-propsuserid-na-a\xe7\xe3o",children:[]}]}],d={rightToc:p};function s(e){var n=e.components,o=Object(t.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},d,o,{components:n,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"connectadvanced"},Object(r.b)("inlineCode",{parentName:"h1"},"connectAdvanced()")),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"connectAdvanced(selectorFactory, connectOptions?)\n")),Object(r.b)("p",null,"Conecta um componente React a uma Redux store. \xc9 a base para ",Object(r.b)("inlineCode",{parentName:"p"},"connect()"),", mas \xe9 menos opinativo sobre como combinar ",Object(r.b)("inlineCode",{parentName:"p"},"state"),",",Object(r.b)("inlineCode",{parentName:"p"}," props")," e ",Object(r.b)("inlineCode",{parentName:"p"},"dispatch")," em seus props finais. Ele n\xe3o faz suposi\xe7\xf5es sobre padr\xf5es ou memoriza\xe7\xe3o de resultados, deixando essas responsabilidades para quem chama-l\xe1."),Object(r.b)("p",null,"Ele n\xe3o modifica a classe de componente transmitida a ele; em vez disso, ele ",Object(r.b)("em",{parentName:"p"},"retorna")," uma nova classe de componente conectado para voc\xea usar."),Object(r.b)("p",null,"A maioria dos aplicativos n\xe3o precisar\xe1 usar isso, j\xe1 que o comportamento padr\xe3o em ",Object(r.b)("inlineCode",{parentName:"p"},"connect")," se destina a funcionar na maioria dos casos de uso."),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Nota: ",Object(r.b)("inlineCode",{parentName:"p"},"connectAdvanced")," foi adicionado na vers\xe3o 5.0, e ",Object(r.b)("inlineCode",{parentName:"p"},"connect")," foi reimplementado como um conjunto espec\xedfico de par\xe2metros para ",Object(r.b)("inlineCode",{parentName:"p"},"connectAdvanced"),".")),Object(r.b)("h2",{id:"argumentos"},"Argumentos"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"selectorFactory (dispatch, factoryOptions): selector (state, ownProps): props")," \\ (",Object(r.b)("em",{parentName:"p"}," Function"),"): Inicializa uma fun\xe7\xe3o selector (durante o construtor de cada inst\xe2ncia). Essa fun\xe7\xe3o selector \xe9 chamada sempre que o componente conector precisa computar novos props, como resultado de uma mudan\xe7a de estado da store ou recebimento de novos props. Espera-se que o resultado de ",Object(r.b)("inlineCode",{parentName:"p"},"selector")," seja um objeto simples, que \xe9 passado como props para o componente encapsulado. Se uma chamada consecutiva para ",Object(r.b)("inlineCode",{parentName:"p"},"selector")," retornar o mesmo objeto (",Object(r.b)("inlineCode",{parentName:"p"},"==="),") que sua chamada anterior, o componente n\xe3o ser\xe1 renderizado novamente. \xc9 responsabilidade do ",Object(r.b)("inlineCode",{parentName:"p"},"selector")," retornar o objeto anterior quando apropriado.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"[",Object(r.b)("inlineCode",{parentName:"p"},"connectOptions"),"]"," ",Object(r.b)("em",{parentName:"p"},"(Objeto)")," Se especificado, personaliza ainda mais o comportamento do conector."),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"[",Object(r.b)("inlineCode",{parentName:"p"},"getDisplayName"),"]"," ",Object(r.b)("em",{parentName:"p"},"(Fun\xe7\xe3o)"),": calcula a propriedade displayName do componente do conector em rela\xe7\xe3o ao componente encapsulado. Normalmente substitu\xeddo por fun\xe7\xf5es de wrapper. Valor padr\xe3o: ",Object(r.b)("inlineCode",{parentName:"p"},"name => 'ConnectAdvanced('+name+')'"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"[",Object(r.b)("inlineCode",{parentName:"p"},"methodName"),"]"," ",Object(r.b)("em",{parentName:"p"},"(String)"),": mostrado nas mensagens de erro. Normalmente substitu\xeddo por fun\xe7\xf5es de wrapper. Valor padr\xe3o: ",Object(r.b)("inlineCode",{parentName:"p"},"'connectAdvanced'"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"[",Object(r.b)("inlineCode",{parentName:"p"},"renderCountProp"),"]"," ",Object(r.b)("em",{parentName:"p"},"(String)"),": se definida, uma propriedade chamada este valor ser\xe1 adicionada aos props passados \u200b\u200bpara o componente envolvido. Seu valor ser\xe1 o n\xfamero de vezes que o componente foi renderizado, o que pode ser \xfatil para rastrear re-renderiza\xe7\xf5es desnecess\xe1rias. Valor padr\xe3o: ",Object(r.b)("inlineCode",{parentName:"p"},"undefined"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"[",Object(r.b)("inlineCode",{parentName:"p"},"shouldHandleStateChanges"),"]"," ",Object(r.b)("em",{parentName:"p"},"(Boolean)"),": controla se o componente do conector assinmou para altera\xe7\xf5es de estado da redux store. Se definido como falso, ele s\xf3 ser\xe1 renderizado novamente quando o componente pai for renderizado novamente. Valor padr\xe3o: ",Object(r.b)("inlineCode",{parentName:"p"},"true"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"[",Object(r.b)("inlineCode",{parentName:"p"},"forwardRef"),"]"," ",Object(r.b)("em",{parentName:"p"},"(Boolean)"),": se verdadeiro, adicionar um ref ao componente envolvido conectado retornar\xe1 a inst\xe2ncia do componente envolvido.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Al\xe9m disso, quaisquer op\xe7\xf5es extras passadas por ",Object(r.b)("inlineCode",{parentName:"p"},"connectOptions")," ser\xe3o passadas para seu ",Object(r.b)("inlineCode",{parentName:"p"},"selectorFactory")," no argumento ",Object(r.b)("inlineCode",{parentName:"p"},"factoryOptions"),"."))))),Object(r.b)("a",{id:"connectAdvanced-returns"}),Object(r.b)("h2",{id:"retorno"},"Retorno"),Object(r.b)("p",null,"Um componente de classe React de ordem superior que cria props a partir do estado da store e os passa para o componente envolvido. Um componente de ordem superior \xe9 uma fun\xe7\xe3o que aceita um componente como argumento e retorna um novo componente."),Object(r.b)("h3",{id:"propriedades-est\xe1ticas"},"Propriedades est\xe1ticas"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"WrappedComponent")," ",Object(r.b)("em",{parentName:"li"},"(Componente)"),": A classe do componente original passada para ",Object(r.b)("inlineCode",{parentName:"li"},"connectAdvanced(...)(Component)"),".")),Object(r.b)("h3",{id:"m\xe9todos-est\xe1ticos"},"M\xe9todos est\xe1ticos"),Object(r.b)("p",null,"Todos os m\xe9todos est\xe1ticos originais do componente s\xe3o i\xe7ados (hoisted)."),Object(r.b)("h2",{id:"observa\xe7\xf5es"},"Observa\xe7\xf5es"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Como ",Object(r.b)("inlineCode",{parentName:"p"},"connectAdvanced")," retorna um componente de ordem superior, ele precisa ser invocado duas vezes. A primeira vez com seus argumentos conforme descrito acima, e uma segunda vez, com o componente: ",Object(r.b)("inlineCode",{parentName:"p"},"connectAdvanced(selectorFactory)(MyComponent)"),".")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"connectAdvanced")," n\xe3o modifica o componente React passado. Ele retorna um novo componente conectado, que voc\xea deve usar no lugar."))),Object(r.b)("a",{id:"connectAdvanced-examples"}),Object(r.b)("h3",{id:"exemplos"},"Exemplos"),Object(r.b)("h3",{id:"injetar-todos-de-um-usu\xe1rio-espec\xedfico-dependendo-das-propriedades-e-injetar-propsuserid-na-a\xe7\xe3o"},"Injetar ",Object(r.b)("inlineCode",{parentName:"h3"},"todos")," de um usu\xe1rio espec\xedfico dependendo das propriedades e injetar ",Object(r.b)("inlineCode",{parentName:"h3"},"props.userId")," na a\xe7\xe3o"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"import * as actionCreators from './actionCreators'\nimport { bindActionCreators } from 'redux'\n\nfunction selectorFactory(dispatch) {\n  let ownProps = {}\n  let result = {}\n\n  const actions = bindActionCreators(actionCreators, dispatch)\n  const addTodo = text => actions.addTodo(ownProps.userId, text)\n\n  return (nextState, nextOwnProps) => {\n    const todos = nextState.todos[nextOwnProps.userId]\n    const nextResult = { ...nextOwnProps, todos, addTodo }\n    ownProps = nextOwnProps\n    if (!shallowEqual(result, nextResult)) result = nextResult\n    return result\n  }\n}\nexport default connectAdvanced(selectorFactory)(TodoApp)\n")))}s.isMDXComponent=!0}}]);